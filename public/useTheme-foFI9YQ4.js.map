{"version":3,"file":"useTheme-foFI9YQ4.js","sources":["../../src/hooks/useTheme.ts"],"sourcesContent":["/*\n *   Copyright (c) 2024 Andrew Halliwell\n\n *   This program is free software: you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation, either version 3 of the License, or\n *   (at your option) any later version.\n\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n\n *   You should have received a copy of the GNU General Public License\n *   along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport { useEffect, useState } from \"react\";\n\n/**\n * useTheme returns an object containing the current theme, either \"dark\" or \"light\", and a function to toggle the theme.\n * The theme is determined by the following rules, in order of precedence:\n * 1. The theme stored in localStorage, if any.\n * 2. The prefers-color-scheme media query.\n * 3. Light theme.\n * The toggleTheme function updates the theme in the state and in localStorage.\n * The useEffect hook is used to update the document's class list with the theme.\n * @returns {{theme: string, toggleTheme: () => void}}\n */\nexport const useTheme = () => {\n    const [theme, setTheme] = useState(\n        localStorage.theme === \"dark\" ||\n            (!(\"theme\" in localStorage) &&\n                window.matchMedia(\"(prefers-color-scheme: dark)\").matches)\n            ? \"dark\"\n            : \"light\",\n    );\n\n    useEffect(() => {\n        document.documentElement.classList.toggle(\"dark\", theme === \"dark\");\n    }, [theme]);\n\n    const toggleTheme = () => {\n        setTheme(theme === \"dark\" ? \"light\" : \"dark\");\n        localStorage.theme = theme === \"dark\" ? \"light\" : \"dark\";\n    };\n\n    return { theme, toggleTheme };\n};\n"],"names":["useTheme","theme","setTheme","useState","useEffect"],"mappings":"wCA6BO,MAAMA,EAAW,IAAM,CACpB,KAAA,CAACC,EAAOC,CAAQ,EAAIC,EAAA,SACtB,aAAa,QAAU,QAClB,EAAE,UAAW,eACV,OAAO,WAAW,8BAA8B,EAAE,QACpD,OACA,OAAA,EAGVC,OAAAA,EAAAA,UAAU,IAAM,CACZ,SAAS,gBAAgB,UAAU,OAAO,OAAQH,IAAU,MAAM,CAAA,EACnE,CAACA,CAAK,CAAC,EAOH,CAAE,MAAAA,EAAO,YALI,IAAM,CACbC,EAAAD,IAAU,OAAS,QAAU,MAAM,EAC/B,aAAA,MAAQA,IAAU,OAAS,QAAU,MAAA,EAI1D"}